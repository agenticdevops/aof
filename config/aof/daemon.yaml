# AOF Daemon Configuration - Production Template
#
# This is the production-ready config template with all platform options.
# Copy to your deployment and configure environment variables.
#
# See examples/config/daemon.yaml for detailed documentation and setup instructions.

apiVersion: aof.dev/v1
kind: DaemonConfig
metadata:
  name: production

spec:
  server:
    port: 8080
    host: 0.0.0.0
    cors: true
    timeout_secs: 60

  platforms:
    # Slack Bot - Enable with SLACK_BOT_TOKEN and SLACK_SIGNING_SECRET
    slack:
      enabled: true
      bot_token_env: SLACK_BOT_TOKEN
      signing_secret_env: SLACK_SIGNING_SECRET
      # approval_allowed_users:
      #   - U12345678

    # Telegram Bot - Enable with TELEGRAM_BOT_TOKEN
    telegram:
      enabled: true
      bot_token_env: TELEGRAM_BOT_TOKEN
      webhook_secret: null

    # GitHub - Enable with GITHUB_TOKEN and GITHUB_WEBHOOK_SECRET
    github:
      enabled: true
      token_env: GITHUB_TOKEN
      webhook_secret_env: GITHUB_WEBHOOK_SECRET
      bot_name: "aofbot"
      # Optional: Restrict to specific repositories
      # allowed_repos:
      #   - "yourorg/yourrepo"
      # Optional: Restrict to specific organizations
      # allowed_orgs:
      #   - "yourorg"

    # Discord Bot (not yet implemented)
    # discord:
    #   enabled: false
    #   bot_token_env: DISCORD_BOT_TOKEN
    #   application_id_env: DISCORD_APPLICATION_ID

    # WhatsApp Business API (not yet implemented)
    # whatsapp:
    #   enabled: false
    #   phone_number_id_env: WHATSAPP_PHONE_NUMBER_ID
    #   access_token_env: WHATSAPP_ACCESS_TOKEN
    #   verify_token_env: WHATSAPP_VERIFY_TOKEN

  triggers:
    directory: ./config
    watch: true

  agents:
    directory: ./agents
    watch: true

  flows:
    directory: ./flows
    watch: true
    enabled: true

  runtime:
    max_concurrent_tasks: 10
    task_timeout_secs: 300
    max_tasks_per_user: 5
    default_agent: devops-agent
