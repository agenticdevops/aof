# Prometheus/Monitoring Context
#
# Context = Agent + Connection Parameters
# When users select this context, they get the prometheus-query agent
# connected to the monitoring stack.
#
# Usage:
#   /context prometheus   # Switch to this context
#   /context              # See inline keyboard with all contexts
#
apiVersion: aof.dev/v1
kind: Context
metadata:
  name: prometheus
  labels:
    type: monitoring
    stack: prometheus
    environment: production

spec:
  # Display information for /context command
  display:
    name: "Prometheus"
    emoji: "ðŸ“Š"
    description: "Monitoring and metrics (PromQL queries)"

  # Connection parameters
  connection:
    prometheus_url: https://prometheus.example.com
    grafana_url: https://grafana.example.com

  # Environment variables set when this context is active
  env:
    PROMETHEUS_URL: https://prometheus.example.com
    GRAFANA_URL: https://grafana.example.com

  # Agent to use for this context
  agent:
    ref: agents/prometheus-query.yaml

  # Tools available in this context
  tools:
    - promql
    - curl
